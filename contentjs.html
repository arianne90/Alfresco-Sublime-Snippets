<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">

    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">


    <!---->
    <link rel="stylesheet" title="Default" href="stylesheets/styles/default.css">
    <!---->
    <link rel="stylesheet" type="text/css" href="">
    <script type="text/javascript" src="javascripts/highlight.pack.js"></script>    
    <script>hljs.initHighlightingOnLoad();</script>
    <title>Alfresco-sublime-snippets by odtorres</title>
  </head>

  <body>

    <header>
      <div class="container">
        <h1><a href="http://odtorres.github.io/Alfresco-Sublime-Snippets/">Alfresco-sublime-snippets</a></h1>
        <h2>A collection of sublime text snippets useful for coding Alfresco webscripts, scripts, forms and content models.</h2>

        <section id="downloads">
          <a href="https://github.com/odtorres/Alfresco-Sublime-Snippets/zipball/master" class="btn">Download as .zip</a>
          <a href="https://github.com/odtorres/Alfresco-Sublime-Snippets/tarball/master" class="btn">Download as .tar.gz</a>
          <a href="https://github.com/odtorres/Alfresco-Sublime-Snippets" class="btn btn-github"><span class="icon"></span>View on GitHub</a>
        </section>
      </div>
    </header>

    <div class="container">
      <section id="main_content">
        <h1>Alfresco JavaScript API</h1>

          <p>A collection of sublime text snippets useful for coding Alfresco webscripts, and scripts</p>
<!-------- Main Controller Script   -------->
          <br/>
          <h2>Main Controller Script !</h2>
          <h3>Trigger: main</h3> 
          <p>Output:</p>            
          <pre><code class="javascript">
/*
  description: archivo.js
  author: Oscar Daniel Torres Hdez : odtorres@uci.cu
  organization: CIGED-UCI
  published: 2015
  version: v0.1.0
*/          
          
try{  
  
  model.result=" ";
  
}catch(e){
  model.error = e.message;
}
          </code></pre>

          <h3>Trigger: main path type</h3> 
          <p>Output:</p>           
          <pre><code class="js">
/*
  description: archivo.js
  author: Oscar Daniel Torres Hdez : odtorres@uci.cu
  organization: CIGED-UCI
  published: 2015
  version: v0.1.0 
*/
try{  
  
  var path = 'PATH:"/app:company_home//*" AND TYPE:"pref:name"';  
  model.result = search.luceneSearch('workspace://SpacesStore', path);
  
}catch(e){
  model.error = e.message;
}
          </code></pre>

          <h3>Trigger: main findNode</h3> 
          <p>Output:</p>           
          <pre><code class="javascript">
/*
  description: archivo.js
  author: Oscar Daniel Torres Hdez : odtorres@uci.cu
  organization: CIGED-UCI
  published: 2015
  version: v0.1.0
*/
try{
  model.result search.findNode('workspace://SpacesStore/' + uuid);
}catch(e){
  model.error = e.message;
}
          </code></pre>

          <h3>Trigger: validate args</h3> 
          <p>Output:</p>           
          <pre><code class="javascript">           
if (args.to == null)
{
   status.code = 400;
   status.message = "Some argumments are missing";
   status.redirect = true;
}
else
{
   model.to = args.to; 
}
          </code></pre>
          <br/>

<!-------- Root Objects  -------->
<br/>
<h2>Root Objects !</h2>
<br/>
          <h3>Trigger: actions</h3> 
          <p>Output: <pre><code class="javascript">actions</code></pre></p>
          <h3>Trigger: args</h3> 
          <p>Output: <pre><code class="javascript">args</code></pre></p>
          <h3>Trigger: argsM</h3> 
          <p>Output: <pre><code class="javascript">argsM.var</code></pre></p>
          <h3>Trigger: avm</h3> 
          <p>Output: <pre><code class="javascript">avm</code></pre></p>
          <h3>Trigger: classification</h3> 
          <p>Output: <pre><code class="javascript">classification</code></pre></p>
          <h3>Trigger: companyhome</h3> 
          <p>Output: <pre><code class="javascript">companyhome</code></pre></p>
          <h3>Trigger: config</h3> 
          <p>Output: <pre><code class="javascript">
var c = new XML(config.script);
c.propertyValue; 
          </code></pre></p>
          <h3>Trigger: crossRepoCopy</h3> 
          <p>Output: <pre><code class="javascript">crossRepoCopy</code></pre></p>
          <h3>Trigger: document</h3> 
          <p>Output: <pre><code class="javascript">document</code></pre></p>
          <h3>Trigger: groups</h3> 
          <p>Output: <pre><code class="javascript">groups</code></pre></p>
          <h3>Trigger: invitations</h3> 
          <p>Output: <pre><code class="javascript">invitations</code></pre></p>
          <h3>Trigger: logger</h3> 
          <p>Output: <pre><code class="javascript">logger</code></pre></p>
          <h3>Trigger: msg</h3> 
          <p>Output: <pre><code class="javascript">msg("value")</code></pre></p>
          <h3>Trigger: people</h3> 
          <p>Output: <pre><code class="javascript">people</code></pre></p>
          <h3>Trigger: person</h3> 
          <p>Output: <pre><code class="javascript">person</code></pre></p>
          <h3>Trigger: script</h3> 
          <p>Output: <pre><code class="javascript">script</code></pre></p>
          <h3>Trigger: search</h3> 
          <p>Output: <pre><code class="javascript">search</code></pre></p>
          <h3>Trigger: search text</h3> 
          <p>Output: <pre><code class="javascript">search.luceneSearch("TEXT:alfresco");</code></pre></p>
          <h3>Trigger: search workspace text</h3> 
          <p>Output: <pre><code class="javascript">search.luceneSearch("workspace://SpacesStore", "TEXT:site");</code></pre></p>
          <h3>Trigger: search text sortcolumn asc</h3> 
          <p>Output: <pre><code class="javascript">search.luceneSearch("TEXT:alfresco", "@cm:modified", false);</code></pre></p>
          <h3>Trigger:search workspace text sortcolumn asc</h3> 
          <p>Output: <pre><code class="javascript">search.luceneSearch("workspace://SpacesStore","TEXT:alfresco", "@cm:modified", false);</code></pre></p>
          <h3>Trigger:search xpath</h3> 
          <p>Output: <pre><code class="javascript">search.xpathSearch(string xpath);</code></pre></p>
          <h3>Trigger:search workspace xpath</h3> 
          <p>Output: <pre><code class="javascript">search.xpathSearch("workspace://SpacesStore", string xpath);</code></pre></p>
          <h3>Trigger:search noderef</h3> 
          <p>Output: <pre><code class="javascript">search.findNode('workspace://SpacesStore/'+uuid);</code></pre></p>
          <h3>Trigger:search type</h3> 
          <p>Output: <pre><code class="javascript">search.luceneSearch('workspace://SpacesStore', 'PATH:"/app:company_home//*" AND TYPE:"p:name"');</code></pre></p>

          <h3>Trigger: sites</h3> 
          <p>Output: <pre><code class="javascript">sites</code></pre></p>
          <h3>Trigger: space</h3> 
          <p>Output: <pre><code class="javascript">space</code></pre></p>
          <h3>Trigger: transfer</h3> 
          <p>Output: <pre><code class="javascript">transfer</code></pre></p>
          <h3>Trigger: userhome</h3> 
          <p>Output: <pre><code class="javascript">userhome</code></pre></p>
          <h3>Trigger: utils</h3> 
          <p>Output: <pre><code class="javascript">utils</code></pre></p>
          <h3>Trigger: webprojects</h3> 
          <p>Output: <pre><code class="javascript">webprojects</code></pre></p>
        
        <!-------- ScriptNode API  -------->
        <br/>
        <h2>ScriptNode API !</h2>
        <br/>          
        <h3>Trigger: activeWorkflows</h3> 
        <p>Output: <pre><code class="javascript">activeWorkflows</code></pre></p>
        <h3>Trigger: aspects</h3> 
        <p>Output: <pre><code class="javascript">aspects[0];</code></pre></p>
        <h3>Trigger: assocs</h3> 
        <p>Output: <pre><code class="javascript">assocs["cm:translations"][0];</code></pre></p>
        <h3>Trigger: childAssocs</h3> 
        <p>Output: <pre><code class="javascript">childAssocs["fm:discussion"][0];</code></pre></p>
        <h3>Trigger: childByNamePath</h3> 
        <p>Output: <pre><code class="javascript">childByNamePath("QA/Performance/Testing");</code></pre></p>
        <h3>Trigger: children</h3> 
        <p>Output: <pre><code class="javascript">children[0];</code></pre></p>
        <h3>Trigger: childrenByXPath</h3> 
        <p>Output: <pre><code class="javascript">childrenByXPath("*[@cm:name='Finance Documents']/*");</code></pre></p>
        <h3>Trigger: content</h3> 
        <p>Output: <pre><code class="javascript">content</code></pre></p>
        <h3>Trigger: getSiteShortName</h3> 
        <p>Output: <pre><code class="javascript">getSiteShortName();</code></pre></p>
        <h3>Trigger: isContainer</h3> 
        <p>Output: <pre><code class="javascript">isContainer</code></pre></p>
        <h3>Trigger: isDocument</h3> 
        <p>Output: <pre><code class="javascript">isDocument</code></pre></p>
        <h3>Trigger: name</h3> 
        <p>Output: <pre><code class="javascript">name</code></pre></p>
        <h3>Trigger: nodeRef</h3> 
        <p>Output: <pre><code class="javascript">nodeRef</code></pre></p>
        <h3>Trigger: parent</h3> 
        <p>Output: <pre><code class="javascript">parent</code></pre></p>
        <h3>Trigger: parentAssocs</h3> 
        <p>Output: <pre><code class="javascript">parentAssocs["cm:contains"][0];</code></pre></p>
        <h3>Trigger: properties</h3> 
        <p>Output: <pre><code class="javascript">properties["name"];</code></pre></p>
        <h3>Trigger: qnamePath</h3> 
        <p>Output: <pre><code class="javascript">qnamePath</code></pre></p>
        <h3>Trigger: save</h3> 
        <p>Output: <pre><code class="javascript">save();</code></pre></p>
        <h3>Trigger: size</h3> 
        <p>Output: <pre><code class="javascript">size</code></pre></p>
        <h3>Trigger: sourceAssocs</h3> 
        <p>Output: <pre><code class="javascript">sourceAssocs["cm:translations"][0];</code></pre></p>
        <h3>Trigger: sourceAssocs</h3> 
        <p>Output: <pre><code class="javascript">sourceAssocs["cm:translations"][0];</code></pre></p>
        
        <!-------- Workflow API  -------->
        <br/>
        <h2>Workflow API !</h2>
        <br/>          
        <h3>Trigger: createPackage</h3> 
        <p>Output: <pre><code class="javascript">workflow.createPackage();</code></pre></p>
        <h3>Trigger: getActiveInstances</h3> 
        <p>Output: <pre><code class="javascript">workflow.getActiveInstances();</code></pre></p>
        <h3>Trigger: getAllDefinitions</h3> 
        <p>Output: <pre><code class="javascript">workflow.getAllDefinitions();</code></pre></p>
        <h3>Trigger: getAssignedTasks</h3> 
        <p>Output: <pre><code class="javascript">workflow.getAssignedTasks();</code></pre></p>
        <h3>Trigger: getCompletedTasks</h3> 
        <p>Output: <pre><code class="javascript">workflow.getCompletedTasks();</code></pre></p>
        <h3>Trigger: getDefinition</h3> 
        <p>Output: <pre><code class="javascript">workflow.getDefinition("A workflow definition id");</code></pre></p>
        <h3>Trigger: getDefinitionByName</h3> 
        <p>Output: <pre><code class="javascript">workflow.getDefinitionByName("The name of the workflow");</code></pre></p>
        <h3>Trigger: getDescription</h3> 
        <p>Output: <pre><code class="javascript">workflow.getDescription();</code></pre></p>
        <h3>Trigger: getId</h3> 
        <p>Output: <pre><code class="javascript">workflow.getId();</code></pre></p>

        <!-------- Importing Scripts  -------->
        <br/>
        <h2>Importing Scripts !</h2>
        <br/>          
        <h3>Trigger: import</h3> 
        <p>Output: <pre><code class="html">
<import resource="/Company Home/Data Dictionary/Scripts/library.js">
<import resource="workspace://SpacesStore/6f73de1b-d3b4-11db-80cb-112e6c2ea048">
<import resource="classpath:alfresco/extension/myutils.js">
        </code></pre></p>      

        <!-------- Tools  -------->
        <br/>
        <h2>Tools !</h2>
        <br/>          
        <h3>Trigger: System.out.println</h3> 
        <p>Output: <pre><code class="javascript">java.lang.System.out.println("");</code></pre></p>
        
        <h2> Work in progress</h2>
          <h2>
          <a id="author" class="anchor" href="#author" aria-hidden="true"><span class="octicon octicon-link"></span></a>Author</h2>

          <p>GitHub: <a href="https://github.com/odtorres">odtorres</a></p>
      </section>
    </div>
  </body>
</html>